{
  "_args": [
    [
      {
        "raw": "botbuilder-location@^1.1.0",
        "scope": null,
        "escapedName": "botbuilder-location",
        "name": "botbuilder-location",
        "rawSpec": "^1.1.0",
        "spec": ">=1.1.0 <2.0.0",
        "type": "range"
      },
      "D:\\ChatBot\\MS_BOT_15-11-17\\BotBuilder-Samples\\Node\\demo-ContosoFlowers"
    ]
  ],
  "_from": "botbuilder-location@>=1.1.0 <2.0.0",
  "_id": "botbuilder-location@1.1.0",
  "_inCache": true,
  "_location": "/botbuilder-location",
  "_nodeVersion": "6.9.2",
  "_npmOperationalInternal": {
    "host": "packages-18-east.internal.npmjs.com",
    "tmp": "tmp/botbuilder-location-1.1.0.tgz_1488450243200_0.0011050428729504347"
  },
  "_npmUser": {
    "name": "kgrashad",
    "email": "kgrashad@live.com"
  },
  "_npmVersion": "3.10.9",
  "_phantomChildren": {},
  "_requested": {
    "raw": "botbuilder-location@^1.1.0",
    "scope": null,
    "escapedName": "botbuilder-location",
    "name": "botbuilder-location",
    "rawSpec": "^1.1.0",
    "spec": ">=1.1.0 <2.0.0",
    "type": "range"
  },
  "_requiredBy": [
    "#USER",
    "/"
  ],
  "_resolved": "https://registry.npmjs.org/botbuilder-location/-/botbuilder-location-1.1.0.tgz",
  "_shasum": "c7035f19d6b5bbec41020078df3e4f70eda0db90",
  "_shrinkwrap": null,
  "_spec": "botbuilder-location@^1.1.0",
  "_where": "D:\\ChatBot\\MS_BOT_15-11-17\\BotBuilder-Samples\\Node\\demo-ContosoFlowers",
  "author": {
    "name": "Microsoft Corp."
  },
  "bugs": {
    "url": "https://github.com/Microsoft/BotBuilder-Location/issues"
  },
  "dependencies": {
    "botbuilder": "^3.5.3",
    "request-promise": "^4.1.1",
    "sprintf-js": "^1.0.3"
  },
  "description": "An open-source location picker control for Microsoft Bot Framework powered by Bing's Maps REST services. This control makes the process of collecting and validating the user's desired location in a conversation easy and reliable.",
  "devDependencies": {
    "@types/es6-shim": "^0.31.32",
    "@types/request": "0.0.33",
    "@types/request-promise": "^4.1.33",
    "@types/sprintf-js": "0.0.27"
  },
  "directories": {},
  "dist": {
    "shasum": "c7035f19d6b5bbec41020078df3e4f70eda0db90",
    "tarball": "https://registry.npmjs.org/botbuilder-location/-/botbuilder-location-1.1.0.tgz"
  },
  "homepage": "https://github.com/Microsoft/BotBuilder-Location#readme",
  "keywords": [
    "botbuilder",
    "bots",
    "chatbots",
    "botbuilder-location"
  ],
  "license": "MIT",
  "main": "./lib/botbuilder-location.js",
  "maintainers": [
    {
      "name": "botframework",
      "email": "botframework@microsoft.com"
    },
    {
      "name": "kgrashad",
      "email": "kgrashad@live.com"
    }
  ],
  "name": "botbuilder-location",
  "optionalDependencies": {},
  "readme": "# Bing Location Control for Microsoft Bot Framework\r\n\r\n## Overview\r\nThe following examples demonstrate how to use the Bing location control to collect and validate the user's location with your Microsoft Bot Framework bot in Node.js.\r\n\r\n## Prerequisites\r\nTo start using the control, you need to obtain a Bing Maps API subscription key. You can sign up to get a free key with up to 10,000 transactions per month in [Azure Portal](https://azure.microsoft.com/en-us/marketplace/partners/bingmaps/mapapis/).\r\n\r\n## Code Highlights\r\n\r\n### Installation\r\nInstall the botbuilder-location module using npm.\r\n\r\n    npm install --save botbuilder-location\r\n       \r\n### Usage\r\n\r\nAdd the botbuilder-location library to your bot.\r\n\r\n    var locationDialog = require('botbuilder-location');\r\n    bot.library(locationDialog.createLibrary(\"BING_MAPS_API_KEY\"));\r\n\r\n### Calling the location control with default parameters\r\nThe example initiates the location control with default parameters, which returns a custom prompt message asking the user to provide an address. \r\n\r\n````JavaScript\r\nlocationDialog.getLocation(session,\r\n { prompt: \"Where should I ship your order? Type or say an address.\" });\r\n````\r\n\r\n### Using FB Messenger's location picker GUI dialog \r\nFB Messenger supports a location picker GUI dialog to let the user select an address. If you prefer to use FB Messenger's native dialog,  pass the `useNativeControl: true` option.\r\n\r\n````JavaScript\r\nvar options = {\r\n    prompt: \"Where should I ship your order? Type or say an address.\",\r\n    useNativeControl: true\r\n};\r\nlocationDialog.getLocation(session, options);\r\n````\r\n\r\nFB Messenger by default returns only the lat/long coordinates for any address selected via the location picker GUI dialog. You can additionally use the `reverseGeocode: true` option to have Bing reverse geocode the returned coordinates and automatically fill in the remaining address fields. \r\n\r\n````JavaScript\r\nvar options = {\r\n    prompt: \"Where should I ship your order? Type or say an address.\",\r\n    useNativeControl: true,\r\n    reverseGeocode: true\r\n};\r\nlocationDialog.getLocation(session, options);\r\n````\r\n\r\n**Note**: Reverse geocoding is an inherently imprecise operation. For that reason, when the reverse geocode option is selected, the location control will collect only the `locality`, `region`, `country` and `postalCode` fields and ask the user to provide the desired street address manually. \r\n\r\n### Specifying required fields \r\nYou can specify required location fields that need to be collected by the control. If the user does not provide values for one or more required fields, the control will prompt him to fill them in. You can specify required fields by passing them in the `requiredFields` parameter. The example specifies the street address and postal (zip) code as required. \r\n\r\n````JavaScript\r\nvar options = {\r\n    prompt: \"Where should I ship your order? Type or say an address.\",\r\n    requiredFields:\r\n        locationDialog.LocationRequiredFields.streetAddress |\r\n        locationDialog.LocationRequiredFields.postalCode\r\n}\r\nlocationDialog.getLocation(session, options);\r\n````\r\n\r\n### Handling returned location\r\nThe following example shows how you can leverage the location object returned by the location control in your bot code. \r\n\r\n````JavaScript\r\nlocationDialog.create(bot);\r\n\r\nbot.library(locationDialog.createLibrary(process.env.BING_MAPS_API_KEY));\r\n\r\nbot.dialog(\"/\", [\r\n    function (session) {\r\n        locationDialog.getLocation(session, {\r\n            prompt: \"Where should I ship your order? Type or say an address.\",\r\n            requiredFields: \r\n                locationDialog.LocationRequiredFields.streetAddress |\r\n                locationDialog.LocationRequiredFields.locality |\r\n                locationDialog.LocationRequiredFields.region |\r\n                locationDialog.LocationRequiredFields.postalCode |\r\n                locationDialog.LocationRequiredFields.country\r\n        });\r\n    },\r\n    function (session, results) {\r\n        if (results.response) {\r\n            var place = results.response;\r\n            session.send(place.streetAddress + \", \" + place.locality + \", \" + place.region + \", \" + place.country + \" (\" + place.postalCode + \")\");\r\n        }\r\n        else {\r\n            session.send(\"OK, I won't be shipping it\");\r\n        }\r\n    }\r\n]);\r\n````\r\n\r\n## Location Control Options\r\nThe following options are supported today by the location control. \r\n\r\n````JavaScript\r\nexport interface ILocationPromptOptions {\r\n    prompt: string;\r\n    requiredFields?: requiredFieldsDialog.LocationRequiredFields;\r\n    useNativeControl?: boolean,\r\n    reverseGeocode?: boolean\r\n}\r\n````\r\n#### Parameters\r\n\r\n*prompt*    \r\nThe prompt shown  to the user when the location control is initiated. \r\n\r\n*requiredFields*    \r\nRequired location fields to be collected by the control. Available options include: streetAddress, locality, region, postalCode, country\r\n\r\n*useNativeControl*    \r\nBoolean to indicate if the control will use FB Messenger's location picker GUI dialog. It does not have any effect on other messaging channels. \r\n\r\n*reverseGeocode*    \r\nBoolean to indicate if the control will try to reverse geocode the lat/long coordinates returned by FB Messenger's location picker GUI dialog. It does not have any effect on other messaging channels.\r\n\r\n## Sample Bot\r\nYou can find a sample bot that uses the Bing location control in the [Sample](sample/) directory. Please note that you need to obtain a Bing Maps API subscription key from [Azure Portal](https://azure.microsoft.com/en-us/marketplace/partners/bingmaps/mapapis/) to run the sample.\r\n\r\n## More Information\r\nRead these resources for more information about the Microsoft Bot Framework, Bot Builder SDK and Bing Maps REST Services:\r\n\r\n* [Microsoft Bot Framework Overview](https://docs.botframework.com/en-us/)\r\n* [Microsoft Bot Framework Bot Builder SDK](https://github.com/Microsoft/BotBuilder)\r\n* [Microsoft Bot Framework Samples](https://github.com/Microsoft/BotBuilder-Samples)\r\n* [Bing Maps REST Services Documentation](https://msdn.microsoft.com/en-us/library/ff701713.aspx)\r\n\r\n",
  "readmeFilename": "Readme.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/Microsoft/BotBuilder-Location.git"
  },
  "scripts": {},
  "version": "1.1.0"
}
